<!DOCTYPE html>
<html lang="en">

<!-- Mirrored from smarttemplates.net/medikit/dashboard__patients.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 04 Apr 2019 00:52:40 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html, charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
<meta name="author" content="SmartTemplates" />
<meta name="description" content="medikit admin dashboard" />
<meta name="keywords" content="medical dashboard, HTML UI KIT, medikit" />
<title>Medik</title>
<link rel="stylesheet" href="css/daterangepicker.css">
<link rel="stylesheet" href="css/select2.css">
<link rel="stylesheet" href="css/ion.rangeSlider.min.css">
<link rel="stylesheet" href="css/dashboard.min.css">
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,900" rel="stylesheet"> 
</head>
<body>

<div class="dashboard-wrap">

	<header class="sidebar-header">
		<h1 class="sidebar-header__logo">m<span>edi<strong>k</strong></span></h1>
	</header>
	
	<!-- Section sidebar -->
	<div class="section section--sidebar" id="sidebar">
	
			<nav class="sidebar-menu"> 
				<ul>
					<li class="dashboard"><a href="index.html"><b>Dashboard</b></a></li>
					
					</li>
					<li class="appointment"><a href="dashboard__appointments.html"><b>Appointments</b></a></li>
					<li class="doctors has-submenu"><a href="#"><b>Doctors<span class="submenu-arrow"></span></b></a>
						<ul class="sidebar-menu__submenu">
							<li><a href="dashboard__doctors-add.html">Add new doctor</a></li>
							<li><a href="dashboard__doctors.html">View all doctors</a></li>
						</ul>
					</li>
					<li class="patients has-submenu"><a href="#"><b>Patients<span class="submenu-arrow"></span></b></a>
						<ul class="sidebar-menu__submenu">
							<li><a href="dashboard__patients-add.html">Add new patient</a></li>
							<li><a href="dashboard__patients.html">View all patients</a></li>
							<li><a href="dashboard__patient.html">Patient profile</a></li>
						</ul>
					</li>		
					<li class="inbox"><a href="dashboard__messages.html"><b>Drugs</b></a></li>
					<li class="logout"><a href="#"><b>Logout</b></a></li>
				</ul>
			</nav>
	
	</div>
	
	<!-- Section sidebar -->
	<div class="section section--content" id="content">
		<header class="content-header">
		
			<div class="sidebar-resize"></div>
			<div class="mobile-menu"><div class="st-burger-icon st-burger-icon--medium"><span></span></div></div>
			
			<div class="content-header__user content-header__dropdown">  
			    <div class="content-header__user-avatar content-header__dropdown-activate" data-dropdown="userdropdown">
					<div class="content-header__user-thumb"><img src="images/avatar-2.jpg" alt="" title=""/></div>
					<span class="content-header__user-name">Nathalie Roberts</span>
			    </div>  
				<nav class="dropdown-menu dropdown-menu--header dropdown-menu--user-menu " id="userdropdown"> 	
				<h3 class="dropdown-menu__subtitle">User menu</h3>
				<ul>   
				    <li><a href="#">My profile</a></li>
				    <li><a href="#">Activity</a></li>
				    <li><a href="#">Switch account</a></li>
				    <li><a href="#">Support</a></li>
				    <li class="logout"><a href="#" class="button button--general button--red-border">Logout</a></li>
				</ul>
				</nav>
			</div>
			
			<div class="content-header__notifications content-header__dropdown">  
			    <div class="content-header__notifications-icon content-header__icon content-header__dropdown-activate" data-dropdown="notificationsdropdown">
					<img src="images/icons/icons-24-gray/notifications.png" alt="" title=""/>



					<span class="content-header__icon-bubble">6</span>
				</div>  
				<nav class="dropdown-menu dropdown-menu--header dropdown-menu--notifications-menu" id="notificationsdropdown"> 			
				<h3 class="dropdown-menu__subtitle">You have <strong>6</strong> notifications</h3>
				<ul>    
					<li class="d-flex justify-sb"><span class="important">IMPORTANT</span>Michael D. kidney surgery <b class="task-time">today</b></li>
					<li class="d-flex justify-sb"><span class="important">IMPORTANT</span>FLU Alert report generated <b class="task-time">today</b></li>
					
					<li class="d-flex justify-sb"><span>Meeting with <strong>Dr. Joshua</strong> </span> <b class="task-time">tomorrow</b></li>
					<li class="d-flex justify-sb"><span>Remember to create prescriptions for <strong>Alexander P.</strong></span> <b class="task-time">tomorrow</b></li>
					<li class="d-flex justify-sb"><span><strong>Jada Sacks</strong> canceled the appointment at Cardiology, Dr. Michael V. </span> <b class="task-time">24 jan, 19</b></li>
					<li class="d-flex justify-sb"><span>Sarah D. registered as new patient of <strong>Dr. George</strong> at Dermatology </span> <b class="task-time">28 jan, 19</b></li>
					<li class="view-all"><a href="#" class="button button--general button--blue-border">View all</a></li>
				</ul>
				</nav>
			</div>
			
			<div class="content-header__quicklinks content-header__dropdown">  
			        <div class="content-header__quicklinks-icon content-header__icon content-header__dropdown-activate" data-dropdown="quicklinksdropdown">
					<img src="images/icons/icons-24-gray/submenu.png" alt="" title=""/>
				</div>  
				<nav class="dropdown-menu dropdown-menu--header dropdown-menu--quicklinks-menu" id="quicklinksdropdown"> 	
				<h3 class="dropdown-menu__subtitle">Quick links</h3>				
				<ul>
				        <li><a href="#">Add new doctor</a></li>
					<li><a href="#">Add new patient</a></li>
					<li><a href="#">Add a Drug</a></li>
				</ul>
				</nav>
			</div>
			
			<div class="mobile-submenu"></div>

			<nav class="content-header__menu">       
				<ul>
					<li class="user selected"><a href="dashboard__patients-add.html">Add new patient</a></li>
					<li class="reports modal-toggle" data-openpopup="reports"><a href="#">Add a Drug</a></li>
				</ul>
			</nav>
			
		</header>
		<div class="content-subheader">
		
			<div class="content-subheader__titles">
					<h2 class="content-subheader__title">Drugs</h2>
					<nav class="content-subheader__breadcrumb-menu">			
							<ul>
								<li><a href="dashboard.html">Dashboard</a></li>
							</ul>
					</nav>
			</div>
			
		</div>
		

		
		<div class="grid grid--margin">
			
			<div class="grid__row">
				<table class="table">
					<thead>
						<tr>
							<td>NAME OF DRUG</td>
							<td>EXPIRY DATE</td>
							<td>DESCRIPTION</td>
						</tr>
					</thead>
					<tbody class="table__body">
					
					</tbody>
				</table>
						
			</div>

		</div> <!-- End of Grid -->



	</div>
	
</div> <!-- Wrap end -->
 
 
   <!-- Modal - reports --> 
<div class="modal modal--reports">
		
		<div class="modal__overlay modal__overlay--toggle"></div>
		<div class="modal__wrapper modal-transition">
		  
		<div class="modal__body">
			<div class="modal__header">
				<h2 class="modal__header-title">Add a Drug</h2>
				<div class="modal__close modal__overlay--toggle"><span></span></div>
			</div>
			<div class="modal__content">					
		
				<div class="grid">
					<div class="grid__row grid__row--margin">
						<div class="grid__col grid__col--margin">
							<h3 class="grid__col-title">Patient Information</h3>
						</div>		
					</div>
					<form class="docForm">
						<div class="grid__row grid__row--margin" style="width: 90%;">
							<div class="grid__col grid__col--13 grid__col--margin">
								<label class="form__label">DRUG NAME</label>
								<input type="text" name="drugName" class="form__input drugName" required/>
							</div>
							<div class="grid__col grid__col--13 grid__col--margin">
								<label class="form__label">EXPIRY DATE</label>
								<input type="text" name="expDate" class="form__input exp" required/>
							</div>
							<div class="grid__col grid__col--13 grid__col--margin">
								<label class="form__label">DESCRIPTION</label>
								<input type="text" name="description" class="form__input desc" required/>
							</div>
						</div>
						<div class="grid__row grid__row--margin">
							<div class="grid__col grid__col--margin">
								<input type="submit" name="submit" class="button button--submit button--blue-bg" id="submit" value="ADD A DRUG" />	
							</div>
						</div>
					</form>	
				 <!-- End of Grid -->

			</div> 

		</div>
 </div> 

<script src="js/jquery-3.3.1.min.js"></script>
<script src="js/moment.min.js"></script>
<script src="js/select2.min.js"></script>
<script src="js/ion.rangeSlider.min.js"></script>
<script src="js/jquery.dashboard-custom.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.0/axios.min.js" integrity="sha512-DZqqY3PiOvTP9HkjIWgjO6ouCbq+dxqWoJZ/Q+zPYNHmlnI2dQnbJ5bxAHpAMw+LXRm4D72EIRXzvcHQtE8/VQ==" crossorigin="anonymous"></script>
<script>
	document.addEventListener('DOMContentLoaded', event => {

		axios.get('https://guarded-headland-99483.herokuapp.com/drugs', {
			headers: {}
		})
		.then((response) => {
			var drugs = response.data.data
			console.log(drugs);

			for(let i=0; i<drugs.length; i++){
				let row = document.createElement('tr');

				let body = document.querySelector('tbody')

				let cell = document.createElement('td');
				let textNode = document.createTextNode(drugs[i].name);
				let cell2 = document.createElement('td');
				let textNode2 = document.createTextNode(drugs[i].expiryDate);
				let cell3 = document.createElement('td');
				let textNode3 = document.createTextNode(drugs[i].description);

				cell.appendChild(textNode);
				cell2.appendChild(textNode2);
				cell3.appendChild(textNode3);

				row.appendChild(cell); 
				row.appendChild(cell2); 
				row.appendChild(cell3);

				body.append(row) 
			}
		})
		.catch((error)=> {
			console.log(error)
		})

	});

	// Posting data
	const form = document.querySelector('.docForm');

	form.addEventListener('submit', function(e){
		console.log(e)
		e.preventDefault();

		const data = {
			'name': document.querySelector(".drugName").value,
			'expiryDate': document.querySelector(".exp").value,
			'description': document.querySelector(".desc").value
		}

		console.log(data)

		axios.post('https://guarded-headland-99483.herokuapp.com/add/drug', data, {
				headers: { 
					'Content-Type': 'application/json'
				}
			})
			.then((response) => {
			})
			.then(()=> {
				form.reset()
			})
	})
</script>
</body>

<!-- Mirrored from smarttemplates.net/medikit/dashboard__patients.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 04 Apr 2019 00:52:40 GMT -->
</html>